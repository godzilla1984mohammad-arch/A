<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙˆÙ„Ø¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ - Ø¬Ù‡Ø§Ù† Ø¨Ø§Ø² Ù…Ø¹Ù†ÙˆÛŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .screen {
            display: none;
        }
        
        .active {
            display: block;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #e94560;
            font-size: 2.5em;
        }
        
        h2 {
            color: #533483;
            margin-bottom: 20px;
        }
        
        h3 {
            color: #e94560;
            margin: 15px 0;
        }
        
        .btn {
            background: #e94560;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #533483;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #533483;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #533483;
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .world-view {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            min-height: 200px;
            border: 2px solid #533483;
        }
        
        .first-person-view {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><rect width="400" height="300" fill="%2316213e"/><circle cx="200" cy="150" r="80" fill="%23533483" opacity="0.3"/></svg>');
            background-size: cover;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            min-height: 300px;
            position: relative;
            overflow: hidden;
        }
        
        .location-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #533483, #e94560);
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .choices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        
        .prayer-option, .action-option {
            background: rgba(83, 52, 131, 0.5);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .prayer-option:hover, .action-option:hover {
            background: rgba(233, 69, 96, 0.7);
            transform: scale(1.05);
        }
        
        .event-log {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            font-size: 14px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: rgba(83, 52, 131, 0.3);
            padding: 15px;
            border-radius: 10px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
            margin: 5px 10px;
        }
        
        .question {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-right: 4px solid #e94560;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        
        .option {
            background: rgba(83, 52, 131, 0.3);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option:hover {
            background: rgba(233, 69, 96, 0.5);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #e94560;
            transition: width 0.3s ease;
        }
        
        .map-view {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .map-location {
            background: rgba(83, 52, 131, 0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .map-location:hover {
            background: rgba(233, 69, 96, 0.5);
            transform: translateY(-3px);
        }
        
        .map-location.current {
            background: rgba(233, 69, 96, 0.7);
            border: 2px solid #fff;
        }
    </style>
 <link type="text/css" rel="stylesheet" href="css/style.css"/>
</head>
<body>
    <div class="container">
        <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ Ùˆ Ø«Ø¨Øª Ù†Ø§Ù… -->
        <div id="loginScreen" class="screen active">
            <h1>ØªÙˆÙ„Ø¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡</h1>
            <div id="loginForm">
                <h2>ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¬Ù‡Ø§Ù†</h2>
                <input type="text" id="username" placeholder="Ù†Ø§Ù… Ø±ÙˆØ­">
                <input type="password" id="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
                <button class="btn" onclick="login()">ÙˆØ±ÙˆØ¯</button>
                <button class="btn" onclick="showRegister()">Ø«Ø¨Øª Ù†Ø§Ù… Ø¬Ø¯ÛŒØ¯</button>
            </div>
            <div id="registerForm" style="display: none;">
                <h2>Ø«Ø¨Øª Ù†Ø§Ù… Ø±ÙˆØ­ Ø¬Ø¯ÛŒØ¯</h2>
                <input type="text" id="newUsername" placeholder="Ù†Ø§Ù… Ø±ÙˆØ­ Ø¬Ø¯ÛŒØ¯">
                <input type="password" id="newPassword" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
                <textarea id="soulDescription" placeholder="ØªÙˆØµÛŒÙ Ø±ÙˆØ­ Ø®ÙˆØ¯... (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"></textarea>
                <button class="btn" onclick="register()">Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ù‡ Ø¢Ø²Ù…ÙˆÙ† Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ</button>
                <button class="btn btn-secondary" onclick="showLogin()">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
            </div>
        </div>

        <!-- ØµÙØ­Ù‡ Ø¢Ø²Ù…ÙˆÙ† Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ -->
        <div id="psychologyTestScreen" class="screen">
            <h1>Ø¢Ø²Ù…ÙˆÙ† Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ ØªÙˆÙ„Ø¯</h1>
            <p>Ù¾Ø§Ø³Ø® Ø¨Ù‡ Û±Û° Ø³ÙˆØ§Ù„ Ø²ÛŒØ± Ø¨Ù‡ Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ ØªÙˆ Ø±Ø§ Ø¯Ø± Ø³Ø±Ø²Ù…ÛŒÙ† Ù…Ù†Ø§Ø³Ø¨ Ù…ØªÙˆÙ„Ø¯ Ú©Ù†ÛŒÙ…...</p>
            
            <div class="progress-bar">
                <div class="progress" id="testProgress" style="width: 0%"></div>
            </div>
            
            <div id="testQuestions">
                <!-- Ø³ÙˆØ§Ù„Ø§Øª Ø§ÛŒÙ†Ø¬Ø§ dynamically Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
            
            <button class="btn" id="nextQuestionBtn" onclick="nextQuestion()" style="display: none;">Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ</button>
            <button class="btn" id="submitTestBtn" onclick="submitTest()" style="display: none;">ØªÚ©Ù…ÛŒÙ„ Ø¢Ø²Ù…ÙˆÙ† Ùˆ ØªÙˆÙ„Ø¯</button>
        </div>

        <!-- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ -->
        <div id="gameScreen" class="screen">
            <h1>Ø¬Ù‡Ø§Ù† ØªÙˆ - Ø¯ÛŒØ¯ Ø§ÙˆÙ„ Ø´Ø®Øµ</h1>
            
            <div class="stats">
                <div class="stat-item">Ø³Ù„Ø§Ù…Øª: <span id="health">100</span></div>
                <div class="stat-item">Ù…Ø¹Ù†ÙˆÛŒØª: <span id="spirituality">50</span></div>
                <div class="stat-item">ØªÙ‚Ø¯ÛŒØ±: <span id="destiny">25</span></div>
                <div class="stat-item">Ø§Ø¹ØªÙ…Ø§Ø¯: <span id="faith">30</span></div>
                <div class="stat-item">Ø§Ù†Ø±Ú˜ÛŒ: <span id="energy">80</span></div>
            </div>
            
            <div class="first-person-view">
                <h2 id="locationName">Ù…Ù†Ø·Ù‚Ù‡ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡</h2>
                <div class="location-image" id="locationImage">
                    <!-- ØªØµÙˆÛŒØ± Ù…Ù†Ø·Ù‚Ù‡ -->
                </div>
                <p id="locationDescription">...</p>
                <p id="currentEvent">...</p>
                <div id="npcInteraction" style="margin-top: 15px;"></div>
            </div>
            
            <h2>Ù†Ù‚Ø´Ù‡ Ø¬Ù‡Ø§Ù†</h2>
            <div class="map-view" id="worldMap">
                <!-- Ù…Ù†Ø§Ø·Ù‚ Ø¬Ù‡Ø§Ù† Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
            
            <h2>Ø¯Ø¹Ø§Ù‡Ø§ÛŒ ØªÙˆ</h2>
            <div class="choices">
                <div class="prayer-option" onclick="makePrayer('health')">Ø¯Ø¹Ø§ÛŒ Ø³Ù„Ø§Ù…ØªÛŒ</div>
                <div class="prayer-option" onclick="makePrayer('wisdom')">Ø¯Ø¹Ø§ÛŒ Ø®Ø±Ø¯</div>
                <div class="prayer-option" onclick="makePrayer('protection')">Ø¯Ø¹Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª</div>
                <div class="prayer-option" onclick="makePrayer('guidance')">Ø¯Ø¹Ø§ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ</div>
            </div>
            
            <h2>Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ù…Ù…Ú©Ù†</h2>
            <div class="choices">
                <div class="action-option" onclick="explore()">Ú©Ø§ÙˆØ´ Ù…Ù†Ø·Ù‚Ù‡</div>
                <div class="action-option" onclick="meditate()">Ù…Ø±Ø§Ù‚Ø¨Ù‡</div>
                <div class="action-option" onclick="helpOthers()">Ú©Ù…Ú© Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù†</div>
                <div class="action-option" onclick="craft()">Ø³Ø§Ø®Øª ÙˆØ³Ø§ÛŒÙ„</div>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <button class="btn" onclick="showTravelScreen()">Ø³ÙØ± Ø¨Ù‡ Ù…Ù†Ø·Ù‚Ù‡ Ø¯ÛŒÚ¯Ø±</button>
            </div>
            
            <div class="event-log" id="eventLog">
                <p>Ø±ÙˆØ­ ØªÙˆ Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯...</p>
            </div>
            
            <button class="btn btn-secondary" onclick="logout()" style="margin-top: 20px;">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø¨Ø§Ø²ÛŒ</button>
        </div>

        <!-- ØµÙØ­Ù‡ Ø³ÙØ± -->
        <div id="travelScreen" class="screen">
            <h1>Ø³ÙØ± Ø¨Ù‡ Ø³Ø±Ø²Ù…ÛŒÙ† Ø¯ÛŒÚ¯Ø±</h1>
            <p>Ù…Ù‚ØµØ¯ Ø³ÙØ± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</p>
            <div id="travelLocations">
                <!-- Ù…Ù†Ø§Ø·Ù‚ Ù‚Ø§Ø¨Ù„ Ø³ÙØ± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
            <button class="btn btn-secondary" onclick="showGameScreen()">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
        </div>
    </div>

    <script>
        // Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø³Ø§Ø¯Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
        let users = JSON.parse(localStorage.getItem('reborn_users')) || {};
        let currentUser = null;
        let currentTestAnswers = [];
        let currentQuestionIndex = 0;

        // Ø³ÙˆØ§Ù„Ø§Øª Ø¢Ø²Ù…ÙˆÙ† Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ
        const psychologyTest = [
            {
                question: "Ø¯Ø± Ø§ÙˆÙ‚Ø§Øª ÙØ±Ø§ØºØª Ø®ÙˆØ¯ Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ø±Ø§ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ØŸ",
                options: [
                    { text: "Ø®ÙˆØ§Ù†Ø¯Ù† Ú©ØªØ§Ø¨ Ùˆ Ù…Ø·Ø§Ù„Ø¹Ù‡", type: "wisdom" },
                    { text: "Ù…Ù„Ø§Ù‚Ø§Øª Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ùˆ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø¨ÙˆØ¯Ù†", type: "social" },
                    { text: "Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±ÙˆÛŒ Ø¯Ø± Ø·Ø¨ÛŒØ¹Øª", type: "nature" },
                    { text: "Ø®Ù„Ø§Ù‚ÛŒØª Ùˆ Ø³Ø§Ø®ØªÙ† Ú†ÛŒØ²ÛŒ", type: "creation" }
                ]
            },
            {
                question: "ÙˆÙ‚ØªÛŒ Ø¨Ø§ Ú†Ø§Ù„Ø´ Ø¨Ø²Ø±Ú¯ÛŒ Ø±ÙˆØ¨Ø±Ùˆ Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯ØŒ Ú†Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ",
                options: [
                    { text: "ØªØ­Ù„ÛŒÙ„ Ù…Ù†Ø·Ù‚ÛŒ Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ", type: "wisdom" },
                    { text: "Ø§Ø² Ø¯ÛŒÚ¯Ø±Ø§Ù† Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…", type: "social" },
                    { text: "Ø¨Ù‡ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯ Ø±Ø¬ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ù…", type: "spiritual" },
                    { text: "Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ù‚Ø¯Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†Ù…", type: "action" }
                ]
            },
            {
                question: "Ú†Ù‡ Ù…Ø­ÛŒØ·ÛŒ Ø´Ù…Ø§ Ø±Ø§ Ø¨ÛŒØ´ØªØ± Ø¢Ø±Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ",
                options: [
                    { text: "Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ ÛŒØ§ ÙØ¶Ø§ÛŒ Ù…Ø·Ø§Ù„Ø¹Ù‡", type: "wisdom" },
                    { text: "Ø¬Ø´Ù†â€ŒÙ‡Ø§ Ùˆ Ø¬Ù…Ø¹â€ŒÙ‡Ø§ÛŒ Ø¯ÙˆØ³ØªØ§Ù†Ù‡", type: "social" },
                    { text: "Ú©ÙˆÙ‡Ø³ØªØ§Ù† ÛŒØ§ Ø¬Ù†Ú¯Ù„", type: "nature" },
                    { text: "Ú©Ø§Ø±Ú¯Ø§Ù‡ ÛŒØ§ ÙØ¶Ø§ÛŒ Ø®Ù„Ø§Ù‚", type: "creation" }
                ]
            },
            {
                question: "Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ø¢Ø±Ø²ÙˆÛŒ Ø´Ù…Ø§ Ú†ÛŒØ³ØªØŸ",
                options: [
                    { text: "Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ø¨Ù‡ Ø¯Ø§Ù†Ø´ Ø¨ÛŒâ€ŒÙ¾Ø§ÛŒØ§Ù†", type: "wisdom" },
                    { text: "Ø¯Ø§Ø´ØªÙ† Ø±ÙˆØ§Ø¨Ø· Ø¹Ù…ÛŒÙ‚ Ùˆ Ù…Ø¹Ù†Ø§Ø¯Ø§Ø±", type: "social" },
                    { text: "Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø¢Ø±Ø§Ù…Ø´ Ø¯Ø±ÙˆÙ†ÛŒ", type: "spiritual" },
                    { text: "Ø®Ù„Ù‚ Ú†ÛŒØ²ÛŒ Ù…Ø§Ù†Ø¯Ú¯Ø§Ø±", type: "creation" }
                ]
            },
            {
                question: "Ø¯Ø± ÛŒÚ© Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯ØŒ Ø§ÙˆÙ„ÛŒÙ† Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ú†ÛŒØ³ØªØŸ",
                options: [
                    { text: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ ØªØ­Ù„ÛŒÙ„ Ù…Ø­ÛŒØ·", type: "wisdom" },
                    { text: "Ø¨Ø§ Ù…Ø±Ø¯Ù… Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù…", type: "social" },
                    { text: "Ø­Ø¶ÙˆØ± Ø¯Ø± Ù„Ø­Ø¸Ù‡ Ø±Ø§ ØªØ¬Ø±Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù…", type: "spiritual" },
                    { text: "Ø¯Ø³Øª Ø¨Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ…", type: "action" }
                ]
            },
            {
                question: "Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø¨Ù‡ Ø²Ù†Ø¯Ú¯ÛŒ Ø´Ù…Ø§ Ù…Ø¹Ù†Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŸ",
                options: [
                    { text: "Ú©Ø´Ù Ø­Ù‚Ø§ÛŒÙ‚ Ø¬Ù‡Ø§Ù†", type: "wisdom" },
                    { text: "Ø¹Ø´Ù‚ Ùˆ Ø¯ÙˆØ³ØªÛŒ", type: "social" },
                    { text: "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ú†ÛŒØ²ÛŒ Ø¨Ø±ØªØ±", type: "spiritual" },
                    { text: "Ø³Ø§Ø®ØªÙ† Ùˆ Ø¢ÙØ±ÛŒÙ†Ø´", type: "creation" }
                ]
            },
            {
                question: "Ø¯Ø± Ù…ÙˆØ§Ø¬Ù‡Ù‡ Ø¨Ø§ Ø§Ø®ØªÙ„Ø§Ù Ù†Ø¸Ø±ØŒ Ú†Ù‡ ÙˆØ§Ú©Ù†Ø´ÛŒ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ØŸ",
                options: [
                    { text: "Ø¨Ø­Ø« Ù…Ù†Ø·Ù‚ÛŒ Ùˆ Ø§Ø³ØªØ¯Ù„Ø§Ù„", type: "wisdom" },
                    { text: "Ø¬Ø³ØªØ¬ÙˆÛŒ Ø²Ù…ÛŒÙ†Ù‡ Ù…Ø´ØªØ±Ú©", type: "social" },
                    { text: "Ø¯Ø±ÙˆÙ†â€ŒÙ†Ú¯Ø±ÛŒ Ùˆ ØªØ£Ù…Ù„", type: "spiritual" },
                    { text: "Ø­ÙØ¸ Ø§Ø³ØªÙ‚Ù„Ø§Ù„ Ø±Ø£ÛŒ", type: "action" }
                ]
            },
            {
                question: "ØªØ¹Ø·ÛŒÙ„Ø§Øª Ø§ÛŒØ¯Ù‡â€ŒØ¢Ù„ Ø´Ù…Ø§ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØŸ",
                options: [
                    { text: "Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø§Ø² Ù…ÙˆØ²Ù‡â€ŒÙ‡Ø§ Ùˆ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ ØªØ§Ø±ÛŒØ®ÛŒ", type: "wisdom" },
                    { text: "Ù…Ø³Ø§ÙØ±Øª Ø¨Ø§ Ú¯Ø±ÙˆÙ‡ÛŒ Ø§Ø² Ø¯ÙˆØ³ØªØ§Ù†", type: "social" },
                    { text: "Ø§Ù‚Ø§Ù…Øª Ø¯Ø± Ù…Ú©Ø§Ù†ÛŒ Ø¯ÙˆØ±Ø§ÙØªØ§Ø¯Ù‡ Ùˆ Ø¢Ø±Ø§Ù…", type: "nature" },
                    { text: "Ø´Ø±Ú©Øª Ø¯Ø± Ú©Ø§Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ù„Ø§Ù‚", type: "creation" }
                ]
            },
            {
                question: "Ú†Ù‡ Ù†ÙˆØ¹ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ø´Ù…Ø§ Ø±Ø§ Ø¨ÛŒØ´ØªØ± Ø¬Ø°Ø¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ",
                options: [
                    { text: "Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§ÛŒÛŒ Ùˆ ÙÚ©Ø±ÛŒ", type: "wisdom" },
                    { text: "Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø±ÙˆØ§Ø¨Ø· Ø§Ù†Ø³Ø§Ù†ÛŒ", type: "social" },
                    { text: "Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù†ÙˆÛŒ Ùˆ ÙÙ„Ø³ÙÛŒ", type: "spiritual" },
                    { text: "Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒØ§Ù†Ù‡", type: "action" }
                ]
            },
            {
                question: "Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ù‚Ø¯Ø±Øª ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ØŒ Ú©Ø¯Ø§Ù… Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ",
                options: [
                    { text: "Ø®ÙˆØ§Ù†Ø¯Ù† Ø°Ù‡Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù†", type: "wisdom" },
                    { text: "Ø¯Ø±Ù…Ø§Ù† Ú©Ø±Ø¯Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù†", type: "social" },
                    { text: "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø·Ø¨ÛŒØ¹Øª", type: "nature" },
                    { text: "ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ø®Ù„Ù‚ Ù‡Ø± Ú†ÛŒØ²ÛŒ", type: "creation" }
                ]
            }
        ];

        // Ù…Ù†Ø§Ø·Ù‚ Ù…Ø®ØªÙ„Ù Ø¬Ù‡Ø§Ù†
        const locations = [
            {
                id: "village",
                name: "Ø±ÙˆØ³ØªØ§ÛŒ Ø¢Ø±Ø§Ù…",
                description: "ØªÙˆ Ø¯Ø± Ø±ÙˆØ³ØªØ§ÛŒÛŒ Ú©ÙˆÚ†Ú© Ø¯Ø± Ú©Ù†Ø§Ø± Ø±ÙˆØ¯Ø®Ø§Ù†Ù‡ Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒ. Ù…Ø±Ø¯Ù… Ø§ÛŒÙ†Ø¬Ø§ Ø³Ø§Ø¯Ù‡ Ùˆ Ù…Ù‡Ø±Ø¨Ø§Ù† Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¨Ù‡ Ø²Ù…ÛŒÙ† Ùˆ Ø¢Ø³Ù…Ø§Ù† Ø§ÛŒÙ…Ø§Ù† Ø¯Ø§Ø±Ù†Ø¯. Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ù„ÛŒØŒ Ø¨Ø§Øºâ€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø³Ø¨Ø² Ùˆ ØµØ¯Ø§ÛŒ Ø¬Ø±ÛŒØ§Ù† Ø¢Ø¨ Ø¢Ø±Ø§Ù…Ø´ Ø¨Ø®Ø´ Ø§Ø³Øª.",
                image: "Ø±ÙˆØ³ØªØ§ÛŒ Ø¢Ø±Ø§Ù…",
                color: "#4CAF50",
                requiredTypes: ["nature", "social"],
                events: [
                    "Ø³Ø§Ú©Ù†ÛŒÙ† Ø±ÙˆØ³ØªØ§ Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ø¬Ø´Ù†ÛŒ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ù‡Ø³ØªÙ†Ø¯",
                    "Ú©ÙˆØ¯Ú©ÛŒ Ø¨ÛŒÙ…Ø§Ø± Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø±Ù…Ø§Ù† Ø¯Ø§Ø±Ø¯",
                    "Ø¨Ø§Ø±Ø§Ù† Ø´Ø¯ÛŒØ¯ÛŒ Ø¯Ø± Ø±Ø§Ù‡ Ø§Ø³Øª",
                    "Ù…Ø³Ø§ÙØ±ÛŒ Ù…Ø±Ù…ÙˆØ² Ø¨Ù‡ Ø±ÙˆØ³ØªØ§ Ø¢Ù…Ø¯Ù‡ Ø§Ø³Øª"
                ],
                npcs: ["Ú©Ø´Ø§ÙˆØ±Ø² Ù¾ÛŒØ±", "Ú©ÙˆØ¯Ú© Ú©Ù†Ø¬Ú©Ø§Ùˆ", "Ù¾ÛŒØ±Ø²Ù† Ø®Ø±Ø¯Ù…Ù†Ø¯"]
            },
            {
                id: "city",
                name: "Ø´Ù‡Ø± Ø¨Ø²Ø±Ú¯",
                description: "ØªÙˆ Ø¯Ø± Ø´Ù‡Ø±ÛŒ Ù¾Ø±Ø¬Ù†Ø¨â€ŒÙˆØ¬ÙˆØ´ Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒ. Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ù„Ù†Ø¯ØŒ Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø´Ù„ÙˆØº Ùˆ Ø¢Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ø§ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯ÙˆÙ†Ø§Ú¯ÙˆÙ†. Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ù… ÙØ±ØµØª Ù‡Ø³Øª Ù‡Ù… Ø®Ø·Ø±.",
                image: "Ø´Ù‡Ø± Ø¨Ø²Ø±Ú¯", 
                color: "#2196F3",
                requiredTypes: ["social", "action"],
                events: [
                    "Ø¨Ø§Ø²Ø§Ø±ÛŒ Ø´Ù„ÙˆØº Ø¨Ø§ Ú©Ø§Ù„Ø§Ù‡Ø§ÛŒ Ø¹Ø¬ÛŒØ¨",
                    "Ù…Ø±Ø¯Ù… Ù†Ú¯Ø±Ø§Ù† Ø¨ÛŒÙ…Ø§Ø±ÛŒ Ù…Ø³Ø±ÛŒ Ù‡Ø³ØªÙ†Ø¯", 
                    "Ø¬Ø´Ù†ÙˆØ§Ø±Ù‡ Ù‡Ù†Ø±ÛŒ Ø¯Ø± Ù…ÛŒØ¯Ø§Ù† Ø§ØµÙ„ÛŒ",
                    "Ø¯Ø±Ú¯ÛŒØ±ÛŒ Ø¨ÛŒÙ† Ø¯Ùˆ Ú¯Ø±ÙˆÙ‡ Ù…Ø®ØªÙ„Ù"
                ],
                npcs: ["Ø¨Ø§Ø²Ø±Ú¯Ø§Ù† Ø«Ø±ÙˆØªÙ…Ù†Ø¯", "Ú¯Ø¯Ø§Ù‰ Ø®ÛŒØ§Ø¨Ø§Ù†", "Ù‡Ù†Ø±Ù…Ù†Ø¯ Ù…Ø´Ù‡ÙˆØ±"]
            },
            {
                id: "mountain",
                name: "Ú©ÙˆÙ‡Ø³ØªØ§Ù† Ù…Ù‚Ø¯Ø³",
                description: "ØªÙˆ Ø¯Ø± Ø§Ø±ØªÙØ§Ø¹Ø§Øª Ú©ÙˆÙ‡Ø³ØªØ§Ù† Ù…Ù‚Ø¯Ø³ Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒ. Ù‚Ù„Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ÙÛŒØŒ Ù…Ø¹Ø§Ø¨Ø¯ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ùˆ Ù‡ÙˆØ§ÛŒ Ù¾Ø§Ú©. Ø§ÛŒÙ†Ø¬Ø§ Ø²Ù…ÛŒÙ† Ø¨Ù‡ Ø¢Ø³Ù…Ø§Ù† Ù†Ø²Ø¯ÛŒÚ© Ø§Ø³Øª Ùˆ Ø±Ø§Ø²Ù‡Ø§ÛŒ Ø²ÛŒØ§Ø¯ÛŒ Ø¯Ø± Ø¯Ù„ Ø®ÙˆØ¯ Ø¯Ø§Ø±Ø¯.",
                image: "Ú©ÙˆÙ‡Ø³ØªØ§Ù† Ù…Ù‚Ø¯Ø³",
                color: "#795548",
                requiredTypes: ["spiritual", "nature"],
                events: [
                    "Ø±Ø§Ù‡Ø¨ÛŒ Ù¾ÛŒØ± Ø¯Ø± Ø­Ø§Ù„ Ù…Ø±Ø§Ù‚Ø¨Ù‡ Ø¯ÛŒØ¯Ù‡ Ø´Ø¯",
                    "Ù†ÙˆØ±ÛŒ Ø¹Ø¬ÛŒØ¨ Ø§Ø² Ù‚Ù„Ù‡ Ú©ÙˆÙ‡ Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯",
                    "Ù…Ø³Ø§ÙØ±ÛŒ Ú¯Ù…â€ŒØ´Ø¯Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©Ù…Ú© Ø¯Ø§Ø±Ø¯",
                    "Ù‡ÙˆØ§ÛŒ Ø·ÙˆÙØ§Ù†ÛŒ Ø¯Ø± Ø±Ø§Ù‡ Ø§Ø³Øª"
                ],
                npcs: ["Ø±Ø§Ù‡Ø¨ Ø¹Ø§Ø¨Ø¯", "Ú©ÙˆÙ‡Ù†ÙˆØ±Ø¯ Ù…Ø§Ø¬Ø±Ø§Ø¬Ùˆ", "Ù†Ú¯Ù‡Ø¨Ø§Ù† Ù…Ø¹Ø¨Ø¯"]
            },
            {
                id: "desert",
                name: "ØµØ­Ø±Ø§ÛŒ Ø¨ÛŒâ€ŒÚ©Ø±Ø§Ù†", 
                description: "ØªÙˆ Ø¯Ø± Ù…ÛŒØ§Ù† Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ø·Ù„Ø§ÛŒÛŒ ØµØ­Ø±Ø§ Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒ. Ú¯Ø±Ù…Ø§ÛŒ Ø®ÙˆØ±Ø´ÛŒØ¯ØŒ Ø´Ø¨â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø¯ Ùˆ Ø³ØªØ§Ø±Ú¯Ø§Ù† Ø¯Ø±Ø®Ø´Ø§Ù†. Ø§ÛŒÙ†Ø¬Ø§ ØªÙ†Ù‡Ø§ ØµØ¯Ø§ÛŒ Ø¨Ø§Ø¯ Ø´Ù†ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø±Ø§Ø²Ù‡Ø§ÛŒ Ú©Ù‡Ù† Ø¯Ø± Ø²ÛŒØ± Ø´Ù†â€ŒÙ‡Ø§ Ù¾Ù†Ù‡Ø§Ù† Ø§Ø³Øª.",
                image: "ØµØ­Ø±Ø§ÛŒ Ø¨ÛŒâ€ŒÚ©Ø±Ø§Ù†",
                color: "#FF9800",
                requiredTypes: ["spiritual", "wisdom"],
                events: [
                    "Ú©Ø§Ø±ÙˆØ§Ù† Ù…Ø³Ø§ÙØ±Ø§Ù† Ø¯Ø± Ø­Ø§Ù„ Ø¹Ø¨ÙˆØ± Ù‡Ø³ØªÙ†Ø¯",
                    "Ø¢Ø¨ Ú†Ø´Ù…Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø®Ø´Ú© Ø´Ø¯Ù† Ø§Ø³Øª",
                    "Ø´Ù‡Ø± Ø§ÙØ³Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø¯ÙˆØ±Ø¯Ø³Øª Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯", 
                    "Ø·ÙˆÙØ§Ù† Ø´Ù† Ø¯Ø± Ø±Ø§Ù‡ Ø§Ø³Øª"
                ],
                npcs: ["Ø¨Ø¯ÙˆÛŒ ØµØ­Ø±Ø§", "Ú©Ø§ÙˆØ´Ú¯Ø± ÙØ±ØªÙˆØª", "ØªØ§Ø¬Ø± Ú©Ø§Ø±ÙˆØ§Ù†"]
            },
            {
                id: "island",
                name: "Ø¬Ø²ÛŒØ±Ù‡ Ø§Ø³Ø±Ø§Ø±Ø¢Ù…ÛŒØ²",
                description: "ØªÙˆ Ø¯Ø± Ø¬Ø²ÛŒØ±Ù‡â€ŒØ§ÛŒ Ø³Ø¨Ø² Ùˆ Ù…Ø±Ù…ÙˆØ² Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒ. Ø¬Ù†Ú¯Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¨ÙˆÙ‡ØŒ Ø³ÙˆØ§Ø­Ù„ Ø´Ù†ÛŒ Ùˆ Ø§Ù‚ÛŒØ§Ù†ÙˆØ³ Ø¨ÛŒâ€ŒÚ©Ø±Ø§Ù†. Ø§ÛŒÙ†Ø¬Ø§ Ù¾Ø± Ø§Ø² Ø±Ø§Ø²Ù‡Ø§ÛŒ Ù†Ø§Ú¯ÙØªÙ‡ Ùˆ Ù…ÙˆØ¬ÙˆØ¯Ø§Øª Ø¹Ø¬ÛŒØ¨ Ø§Ø³Øª.",
                image: "Ø¬Ø²ÛŒØ±Ù‡ Ø§Ø³Ø±Ø§Ø±Ø¢Ù…ÛŒØ²",
                color: "#009688",
                requiredTypes: ["creation", "action"],
                events: [
                    "Ø³Ø§Ú©Ù†ÛŒÙ† Ø¨ÙˆÙ…ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ø±Ø§Ø³Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯",
                    "Ú¯Ù†Ø¬ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§ÙØ³Ø§Ù†Ù‡â€ŒØ§ÛŒ Ú©Ø´Ù Ø´Ø¯Ù‡",
                    "Ø¢ØªØ´ÙØ´Ø§Ù† Ø¯Ø± Ø­Ø§Ù„ ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Ø§Ø³Øª",
                    "Ú©Ø´ØªÛŒ ØºØ±ÛŒØ¨ÛŒ Ø¨Ù‡ Ø³Ø§Ø­Ù„ Ù†Ø²Ø¯ÛŒÚ© Ù…ÛŒâ€ŒØ´ÙˆØ¯"
                ],
                npcs: ["Ø±ÛŒØ´ Ø³ÙÛŒØ¯ Ù‚Ø¨ÛŒÙ„Ù‡", "Ù…Ø§Ù‡ÛŒÚ¯ÛŒØ± Ù…Ø­Ù„ÛŒ", "Ù…Ø­Ù‚Ù‚ Ø§Ø³Ø±Ø§Ø±Ø¢Ù…ÛŒØ²"]
            },
            {
                id: "library",
                name: "Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ",
                description: "ØªÙˆ Ø¯Ø± Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø¹Ø¸ÛŒÙ… Ùˆ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒ. Ù‚ÙØ³Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒâ€ŒÙ¾Ø§ÛŒØ§Ù† Ù¾Ø± Ø§Ø² Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ø¯Ø±ØŒ Ø³Ø§Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø³Ø§Ú©Øª Ùˆ Ø¯Ø§Ù†Ø´ÛŒ Ú©Ù‡ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø´Ù Ø´Ø¯Ù† Ø§Ø³Øª.",
                image: "Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ",
                color: "#607D8B",
                requiredTypes: ["wisdom", "creation"],
                events: [
                    "Ù…ØªÙ†ÛŒ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ±Ø¬Ù…Ù‡ Ø¯Ø§Ø±Ø¯",
                    "Ø±Ø§Ø²ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ Ø¯Ø± Ø­Ø§Ù„ ÙØ§Ø´ Ø´Ø¯Ù† Ø§Ø³Øª",
                    "Ù…Ø­Ù‚Ù‚ÛŒ Ù…Ø±Ù…ÙˆØ² Ø¨Ù‡ Ú©Ù…Ú© Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯",
                    "Ø¨Ø®Ø´ÛŒ Ø§Ø² Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª"
                ],
                npcs: "Ú©ØªØ§Ø¨Ø¯Ø§Ø± Ø³Ø§Ù„Ø®ÙˆØ±Ø¯Ù‡", "Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒ Ù…Ø´ØªØ§Ù‚", "Ù…Ø­Ù‚Ù‚ Ù…Ø±Ù…ÙˆØ²"]
            }
        ];

        // Ù…Ø¹Ø¬Ø²Ø§Øª Ø§Ø­ØªÙ…Ø§Ù„ÛŒ
        const miracles = {
            health: [
                "Ù†ÙˆØ±ÛŒ Ø§Ù„Ù‡ÛŒ Ø¨Ø¯Ù† ØªÙˆ Ø±Ø§ Ø¯Ø±Ø¨Ø±Ú¯Ø±ÙØªÙ‡ Ùˆ Ø³Ù„Ø§Ù…ØªØª Ø¨Ø§Ø²Ú¯Ø´ØªÙ‡ Ø§Ø³Øª",
                "Ø¢Ø¨ Ú†Ø´Ù…Ù‡ Ù…Ù‚Ø¯Ø³ Ø¨ÛŒÙ…Ø§Ø±ÛŒ ØªÙˆ Ø±Ø§ Ø´ÙØ§ Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª", 
                "ÙØ±Ø´ØªÙ‡â€ŒØ§ÛŒ Ø¯Ø± Ø®ÙˆØ§Ø¨ Ø¨Ø± ØªÙˆ Ø¸Ø§Ù‡Ø± Ø´Ø¯Ù‡ Ùˆ ØªÙˆ Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØªÙ‡â€ŒØ§ÛŒ"
            ],
            wisdom: [
                "Ø­Ù‚ÛŒÙ‚ØªÛŒ Ø¨Ø²Ø±Ú¯ Ù†Ø§Ú¯Ù‡Ø§Ù† Ø¨Ø± ØªÙˆ Ø¢Ø´Ú©Ø§Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª",
                "Ú©ØªØ§Ø¨ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ø­Ø§ÙˆÛŒ Ø¯Ø§Ù†Ø´ Ø¹Ù…ÛŒÙ‚ Ø¨Ù‡ Ø¯Ø³ØªØª Ø±Ø³ÛŒØ¯Ù‡",
                "Ø±Ø§Ù‡ÛŒ Ù¾ÛŒØ± Ø±Ø§Ø²Ù‡Ø§ÛŒÛŒ Ø§Ø² Ø¬Ù‡Ø§Ù† Ø¨Ø±Ø§ÛŒØª ÙØ§Ø´ Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª"
            ],
            protection: [
                "Ù†ÙˆØ±ÛŒ Ø³Ù¾ÛŒØ¯ ØªÙˆ Ø±Ø§ Ø§Ø² Ø®Ø·Ø± Ù…Ø­Ø§ÙØ¸Øª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª",
                "Ù‡Ù…Ù‡ Ø¯Ø´Ù…Ù†Ø§Ù† ØªÙˆ Ù†Ø§Ú¯Ù‡Ø§Ù† Ø±Ø§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ø§Ø¯Ù‡â€ŒØ§Ù†Ø¯",
                "ØªÙˆÙØ§Ù†ÛŒ Ø¨Ø²Ø±Ú¯ Ù‡Ù…Ù‡ ØªÙ‡Ø¯ÛŒØ¯Ù‡Ø§ Ø±Ø§ Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±Ø¯Ù‡ Ø§Ø³Øª"
            ],
            guidance: [
                "Ø³ØªØ§Ø±Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø¢Ø³Ù…Ø§Ù† Ù…Ø³ÛŒØ± Ø¯Ø±Ø³Øª Ø±Ø§ Ø¨Ù‡ ØªÙˆ Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª",
                "ØµØ¯Ø§ÛŒÛŒ Ø§Ø² Ø¢Ø³Ù…Ø§Ù† Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒØª Ú©Ø±Ø¯Ù‡",
                "Ø±Ø¤ÛŒØ§ÛŒÛŒ Ø±ÙˆØ´Ù† Ù…Ø³ÛŒØ± Ø¢ÛŒÙ†Ø¯Ù‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒØª Ø¢Ø´Ú©Ø§Ø± Ú©Ø±Ø¯Ù‡"
            ]
        };

        // ØªÙˆØ§Ø¨Ø¹ Ø«Ø¨Øª Ù†Ø§Ù… Ùˆ ÙˆØ±ÙˆØ¯
        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        function register() {
            const username = document.getElementById('newUsername').value;
            const password = document.getElementById('newPassword').value;
            const soulDesc = document.getElementById('soulDescription').value;
            
            if (!username || !password) {
                alert('Ù†Ø§Ù… Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            if (users[username]) {
                alert('Ø§ÛŒÙ† Ù†Ø§Ù… Ø±ÙˆØ­ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø§Ø³Øª');
                return;
            }
            
            // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡
            users[username] = {
                password: password,
                soulDescription: soulDesc,
                stats: {
                    health: 100,
                    spirituality: 50,
                    destiny: 25,
                    faith: 30,
                    energy: 80
                },
                testAnswers: [],
                location: null,
                events: [],
                prayers: [],
                discoveredLocations: [],
                inventory: []
            };
            
            localStorage.setItem('reborn_users', JSON.stringify(users));
            currentUser = username;
            startPsychologyTest();
        }

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!users[username] || users[username].password !== password) {
                alert('Ù†Ø§Ù… Ø±ÙˆØ­ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ù†Ø§Ø¯Ø±Ø³Øª Ø§Ø³Øª');
                return;
            }
            
            currentUser = username;
            startGame();
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø¢Ø²Ù…ÙˆÙ† Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ
        function startPsychologyTest() {
            document.getElementById('loginScreen').classList.remove('active');
            document.getElementById('psychologyTestScreen').classList.add('active');
            currentTestAnswers = [];
            currentQuestionIndex = 0;
            loadQuestion();
        }

        function loadQuestion() {
            const questionContainer = document.getElementById('testQuestions');
            const progressBar = document.getElementById('testProgress');
            const nextBtn = document.getElementById('nextQuestionBtn');
            const submitBtn = document.getElementById('submitTestBtn');
            
            // Ø¨Ù‡ Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
            const progress = ((currentQuestionIndex) / psychologyTest.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            if (currentQuestionIndex >= psychologyTest.length) {
                submitTest();
                return;
            }
            
            const currentQ = psychologyTest[currentQuestionIndex];
            let questionHTML = `
                <div class="question">
                    <h3>Ø³ÙˆØ§Ù„ ${currentQuestionIndex + 1} Ø§Ø² ${psychologyTest.length}</h3>
                    <p>${currentQ.question}</p>
                    <div class="options">
            `;
            
            currentQ.options.forEach((option, index) => {
                questionHTML += `
                    <div class="option" onclick="selectAnswer(${index})">
                        ${option.text}
                    </div>
                `;
            });
            
            questionHTML += `</div></div>`;
            questionContainer.innerHTML = questionHTML;
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¯Ú©Ù…Ù‡ Ù…Ù†Ø§Ø³Ø¨
            if (currentQuestionIndex === psychologyTest.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-block';
            } else {
                nextBtn.style.display = 'inline-block';
                submitBtn.style.display = 'none';
            }
        }

        function selectAnswer(optionIndex) {
            const currentQ = psychologyTest[currentQuestionIndex];
            currentTestAnswers.push(currentQ.options[optionIndex].type);
            
            // Highlight selected option
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.style.background = 'rgba(83, 52, 131, 0.3)');
            options[optionIndex].style.background = 'rgba(233, 69, 96, 0.7)';
        }

        function nextQuestion() {
            if (currentTestAnswers.length <= currentQuestionIndex) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯');
                return;
            }
            
            currentQuestionIndex++;
            loadQuestion();
        }

        function submitTest() {
            if (currentTestAnswers.length < psychologyTest.length) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ Ù‡Ù…Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯');
                return;
            }
            
            // ØªØ­Ù„ÛŒÙ„ Ù†ØªØ§ÛŒØ¬ Ø¢Ø²Ù…ÙˆÙ†
            const typeCounts = {};
            currentTestAnswers.forEach(type => {
                typeCounts[type] = (typeCounts[type] || 0) + 1;
            });
            
            // ÛŒØ§ÙØªÙ† Ù…Ù†Ø§Ø³Ø¨â€ŒØªØ±ÛŒÙ† Ù…Ù†Ø·Ù‚Ù‡
            let bestLocation = null;
            let bestScore = -1;
            
            locations.forEach(location => {
                let score = 0;
                location.requiredTypes.forEach(type => {
                    score += (typeCounts[type] || 0);
                });
                
                if (score > bestScore) {
                    bestScore = score;
                    bestLocation = location;
                }
            });
            
            // Ø°Ø®ÛŒØ±Ù‡ Ù†ØªØ§ÛŒØ¬ Ùˆ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
            users[currentUser].testAnswers = currentTestAnswers;
            users[currentUser].location = bestLocation;
            users[currentUser].discoveredLocations = [bestLocation.id];
            
            localStorage.setItem('reborn_users', JSON.stringify(users));
            startGame();
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ
        function startGame() {
            document.getElementById('psychologyTestScreen').classList.remove('active');
            document.getElementById('gameScreen').classList.add('active');
            
            const user = users[currentUser];
            updateDisplay();
            updateWorldMap();
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø§ÙˆÙ„
            addEvent(`Ø¯Ø± ${user.location.name} Ù…ØªÙˆÙ„Ø¯ Ø´Ø¯ÛŒ. ${user.location.description}`);
            addEvent(`ØªØ³Øª Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯ ØªÙˆ Ø±ÙˆØ­ÛŒ ${getPersonalityType(user.testAnswers)} Ù‡Ø³ØªÛŒ.`);
        }

        function getPersonalityType(answers) {
            const counts = {};
            answers.forEach(type => {
                counts[type] = (counts[type] || 0) + 1;
            });
            
            const maxType = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
            
            const typeNames = {
                'wisdom': 'Ø®Ø±Ø¯Ú¯Ø±Ø§',
                'social': 'Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ',
                'nature': 'Ø·Ø¨ÛŒØ¹Øªâ€ŒÚ¯Ø±Ø§', 
                'spiritual': 'Ù…Ø¹Ù†ÙˆÛŒ',
                'action': 'Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§',
                'creation': 'Ø¢ÙØ±ÛŒÙ†Ø´â€ŒÚ¯Ø±Ø§'
            };
            
            return typeNames[maxType] || 'Ù…Ø±Ù…ÙˆØ²';
        }

        function updateDisplay() {
            const user = users[currentUser];
            const stats = user.stats;
            const location = user.location;
            
            // Ø¨Ù‡ Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
            document.getElementById('health').textContent = stats.health;
            document.getElementById('spirituality').textContent = stats.spirituality;
            document.getElementById('destiny').textContent = stats.destiny;
            document.getElementById('faith').textContent = stats.faith;
            document.getElementById('energy').textContent = stats.energy;
            
            // Ø¨Ù‡ Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒ Ø§ÙˆÙ„ Ø´Ø®Øµ
            document.getElementById('locationName').textContent = location.name;
            document.getElementById('locationDescription').textContent = location.description;
            document.getElementById('locationImage').textContent = location.image;
            document.getElementById('locationImage').style.background = `linear-gradient(45deg, ${location.color}, #e94560)`;
            
            // Ù†Ù…Ø§ÛŒØ´ NPCÙ‡Ø§ÛŒ ØªØµØ§Ø¯ÙÛŒ
            const npcContainer = document.getElementById('npcInteraction');
            if (Math.random() > 0.5) {
                const randomNpc = location.npcs[Math.floor(Math.random() * location.npcs.length)];
                npcContainer.innerHTML = `<p>ğŸ“¢ <strong>${randomNpc}</strong> Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ø³Øª Ùˆ Ø¨Ù‡ Ú©Ù…Ú© Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯...</p>`;
            } else {
                npcContainer.innerHTML = '';
            }
            
            // Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª
            localStorage.setItem('reborn_users', JSON.stringify(users));
        }

        function updateWorldMap() {
            const user = users[currentUser];
            const mapContainer = document.getElementById('worldMap');
            let mapHTML = '';
            
            locations.forEach(location => {
                const isDiscovered = user.discoveredLocations.includes(location.id);
                const isCurrent = user.location.id === location.id;
                
                mapHTML += `
                    <div class="map-location ${isCurrent ? 'current' : ''} ${!isDiscovered ? 'undiscovered' : ''}" 
                         onclick="${isDiscovered ? `travelTo('${location.id}')` : ''}">
                        ${isDiscovered ? location.name : 'Ù…Ù†Ø·Ù‚Ù‡ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡'}
                        ${isCurrent ? ' â­' : ''}
                    </div>
                `;
            });
            
            mapContainer.innerHTML = mapHTML;
        }

        function travelTo(locationId) {
            const user = users[currentUser];
            const newLocation = locations.find(loc => loc.id === locationId);
            
            if (!newLocation) return;
            
            // Ù‡Ø²ÛŒÙ†Ù‡ Ø³ÙØ±
            user.stats.energy -= 20;
            user.stats.health -= 5;
            
            if (user.stats.energy <= 0) {
                addEvent('Ø§Ù†Ø±Ú˜ÛŒ ØªÙˆ Ø¨Ø±Ø§ÛŒ Ø³ÙØ± Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                user.stats.energy = 10;
                updateDisplay();
                return;
            }
            
            user.location = newLocation;
            
            // Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù…Ù†Ø§Ø·Ù‚ Ú©Ø´Ù Ø´Ø¯Ù‡
            if (!user.discoveredLocations.includes(locationId)) {
                user.discoveredLocations.push(locationId);
                addEvent(`Ù…Ù†Ø·Ù‚Ù‡ Ø¬Ø¯ÛŒØ¯ Ú©Ø´Ù Ø´Ø¯: ${newLocation.name}`);
            }
            
            addEvent(`Ø¨Ù‡ ${newLocation.name} Ø³ÙØ± Ú©Ø±Ø¯ÛŒ. ${newLocation.description}`);
            updateDisplay();
            updateWorldMap();
        }

        function showTravelScreen() {
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('travelScreen').classList.add('active');
            
            const travelContainer = document.getElementById('travelLocations');
            const user = users[currentUser];
            let travelHTML = '';
            
            locations.forEach(location => {
                if (user.discoveredLocations.includes(location.id) && location.id !== user.location.id) {
                    travelHTML += `
                        <div class="map-location" onclick="travelTo('${location.id}')">
                            <h3>${location.name}</h3>
                            <p>${location.description.substring(0, 100)}...</p>
                            <small>Ù‡Ø²ÛŒÙ†Ù‡: Û²Û° Ø§Ù†Ø±Ú˜ÛŒ</small>
                        </div>
                    `;
                }
            });
            
            travelContainer.innerHTML = travelHTML || '<p>Ù‡Ù†ÙˆØ² Ù…Ù†Ø·Ù‚Ù‡ Ø¯ÛŒÚ¯Ø±ÛŒ Ú©Ø´Ù Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒ!</p>';
        }

        function showGameScreen() {
            document.getElementById('travelScreen').classList.remove('active');
            document.getElementById('gameScreen').classList.add('active');
        }

        function addEvent(eventText) {
            const user = users[currentUser];
            user.events.push(eventText);
            
            const eventLog = document.getElementById('eventLog');
            const newEvent = document.createElement('p');
            newEvent.textContent = `â€º ${eventText}`;
            eventLog.appendChild(newEvent);
            eventLog.scrollTop = eventLog.scrollHeight;
            
            // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† ØªØ¹Ø¯Ø§Ø¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡
            while (eventLog.children.length > 10) {
                eventLog.removeChild(eventLog.firstChild);
            }
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø¨Ø§Ø²ÛŒ
        function makePrayer(type) {
            const user = users[currentUser];
            
            // Ú©Ø§Ù‡Ø´ Ø§Ù†Ø±Ú˜ÛŒ
            user.stats.energy -= 10;
            if (user.stats.energy <= 0) {
                addEvent('Ø§Ù†Ø±Ú˜ÛŒ ØªÙˆ Ø¨Ø±Ø§ÛŒ Ø¯Ø¹Ø§ Ú©Ø±Ø¯Ù† Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                user.stats.energy = 0;
                updateDisplay();
                return;
            }
            
            // Ø§ÙØ²Ø§ÛŒØ´ Ø§ÛŒÙ…Ø§Ù†
            user.stats.faith += 5;
            
            // Ø´Ø§Ù†Ø³ Ù…Ø¹Ø¬Ø²Ù‡ (Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§ÛŒÙ…Ø§Ù†)
            const miracleChance = user.stats.faith / 100;
            
            if (Math.random() < miracleChance) {
                // Ù…Ø¹Ø¬Ø²Ù‡ Ø±Ø® Ø¯Ø§Ø¯Ù‡!
                const miracleList = miracles[type];
                const miracle = miracleList[Math.floor(Math.random() * miracleList.length)];
                
                addEvent(`âœ¨ Ø¯Ø¹Ø§ÛŒ ØªÙˆ Ù…Ø³ØªØ¬Ø§Ø¨ Ø´Ø¯! ${miracle}`);
                
                // Ø§Ø«Ø±Ø§Øª Ù…Ø¹Ø¬Ø²Ù‡
                switch(type) {
                    case 'health':
                        user.stats.health = Math.min(100, user.stats.health + 30);
                        break;
                    case 'wisdom':
                        user.stats.spirituality += 20;
                        user.stats.destiny += 10;
                        break;
                    case 'protection':
                        user.stats.health += 10;
                        user.stats.faith += 15;
                        break;
                    case 'guidance':
                        user.stats.destiny += 20;
                        user.stats.spirituality += 10;
                        break;
                }
            } else {
                addEvent('ğŸ™ Ø¯Ø¹Ø§ÛŒ ØªÙˆ Ø¨Ù‡ Ø¢Ø³Ù…Ø§Ù† Ø±ÙØª... Ø´Ø§ÛŒØ¯ Ù¾Ø§Ø³Ø®ÛŒ Ø¯Ø± Ø±Ø§Ù‡ Ø¨Ø§Ø´Ø¯');
            }
            
            user.prayers.push(type);
            updateDisplay();
        }

        function explore() {
            const user = users[currentUser];
            user.stats.energy -= 15;
            
            if (user.stats.energy <= 0) {
                addEvent('Ø®ÛŒÙ„ÛŒ Ø®Ø³ØªÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§ÙˆØ´!');
                user.stats.energy = 0;
                updateDisplay();
                return;
            }
            
            const randomEvent = user.location.events[Math.floor(Math.random() * user.location.events.length)];
            addEvent(`ğŸ” Ø¯Ø± Ø­Ø§Ù„ Ú©Ø§ÙˆØ´: ${randomEvent}`);
            
            // Ø´Ø§Ù†Ø³ Ú©Ø´Ù Ù…Ù†Ø·Ù‚Ù‡ Ø¬Ø¯ÛŒØ¯
            if (Math.random() < 0.3) {
                const undiscovered = locations.filter(loc => !user.discoveredLocations.includes(loc.id));
                if (undiscovered.length > 0) {
                    const newLoc = undiscovered[Math.floor(Math.random() * undiscovered.length)];
                    user.discoveredLocations.push(newLoc.id);
                    addEvent(`ğŸ—ºï¸ Ù…Ø³ÛŒØ±ÛŒ Ø¨Ù‡ Ø³Ù…Øª ${newLoc.name} Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ÛŒ!`);
                    updateWorldMap();
                }
            }
            
            user.stats.destiny += 5;
            updateDisplay();
        }

        function meditate() {
            const user = users[currentUser];
            
            user.stats.spirituality += 15;
            user.stats.faith += 10;
            user.stats.energy = Math.min(100, user.stats.energy + 20);
            user.stats.health -= 5;
            
            addEvent('â˜ï¸ Ø¯Ø± Ø³Ú©ÙˆØª Ù…Ø±Ø§Ù‚Ø¨Ù‡ Ú©Ø±Ø¯ÛŒ Ùˆ Ø¨Ù‡ Ø­Ù‚ÛŒÙ‚Øª Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ± Ø´Ø¯ÛŒ...');
            updateDisplay();
        }

        function helpOthers() {
            const user = users[currentUser];
            
            user.stats.destiny += 15;
            user.stats.energy -= 10;
            user.stats.health -= 8;
            
            addEvent('â¤ï¸ Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ú©Ù…Ú© Ú©Ø±Ø¯ÛŒ Ùˆ ØªÙ‚Ø¯ÛŒØ± ØªÙˆ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯...');
            updateDisplay();
        }

        function craft() {
            const user = users[currentUser];
            user.stats.energy -= 20;
            
            if (user.stats.energy <= 0) {
                addEvent('Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø­Ø§Ù„Øª Ú†ÛŒØ²ÛŒ Ø¨Ø³Ø§Ø²ÛŒ!');
                user.stats.energy = 0;
                updateDisplay();
                return;
            }
            
            const items = ['Ø·Ù„Ø³Ù… Ù…Ø­Ø§ÙØ¸', 'Ù…Ø¹Ø¬ÙˆÙ† Ø³Ù„Ø§Ù…ØªÛŒ', 'Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§', 'Ú©ØªØ§Ø¨ Ø®Ø±Ø¯'];
            const craftedItem = items[Math.floor(Math.random() * items.length)];
            
            user.inventory.push(craftedItem);
            user.stats.spirituality += 10;
            
            addEvent(`ğŸ”¨ ${craftedItem} Ø±Ø§ Ø³Ø§Ø®ØªÛŒ!`);
            updateDisplay();
        }

        function logout() {
            currentUser = null;
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('loginScreen').classList.add('active');
        }

        // Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø§Ù†Ø±Ú˜ÛŒ Ø¨Ù‡ Ù…Ø±ÙˆØ± Ø²Ù…Ø§Ù†
        setInterval(() => {
            if (currentUser && users[currentUser]) {
                users[currentUser].stats.energy = Math.min(100, users[currentUser].stats.energy + 1);
                updateDisplay();
            }
        }, 30000); // Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡ 1 Ø§Ù†Ø±Ú˜ÛŒ
    </script>
<script type="text/javascript" src="js/script.js"></script>
<!-- Ø§ÛŒÙ† ÙØ§ÛŒÙ„ ØªÙˆØ³Ø· Ø§Ø¯ÛŒØªÙˆØ± Ø¢Ù†Ù„Ø§ÛŒÙ† ÙˆØ¨Ø³Ø§ÛŒØª Ø¢Ù…ÙˆØ²Ø´ÛŒ ÙØ±ÛŒ Ù„Ø±Ù† Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø§Ø³Øª -->
<!-- https://Free-Learn.Ir/ -->
</body>
</html>